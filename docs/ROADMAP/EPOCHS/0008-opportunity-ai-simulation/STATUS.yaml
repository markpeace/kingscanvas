status: "completed"
epoch: "0008-opportunity-ai-simulation"
plan: "PLAN.md"
start_date: "2025-11-15"
completed_at: "2025-11-15"
updated_at: "2025-11-15"
branch: "feature/epoch-0008/opportunity-ai-simulation"
summary: |
  Delivered AI-simulated opportunities for every real step, shuffle controls,
  and UI plus API plumbing so students can see King’s Edge style guidance even
  before live integrations land.
tasks:
  - id: "simulated-generator"
    title: "Simulated opportunities generator"
    status: "completed"
    notes: "Produces 3–4 fictional King’s Edge style opportunities per eligible step using internal prompts."
  - id: "eligibility-rules"
    title: "Eligibility and triggering rules"
    status: "completed"
    notes: "Automatically generate when manual steps are created or AI steps are accepted; ghost suggestions remain excluded."
  - id: "api-read"
    title: "GET step opportunities"
    status: "completed"
    notes: "Extended the backend endpoint so badge/modal can load simulated opportunities consistently."
  - id: "api-shuffle"
    title: "POST shuffle opportunities"
    status: "completed"
    notes: "Adds reshuffle endpoint that re-runs the generator and returns fresh opportunity sets."
  - id: "ui-ear-badge"
    title: "Ear badge opportunity counts"
    status: "completed"
    notes: "Badge reflects the count of generated opportunities and stays hidden on ghost AI suggestions."
  - id: "ui-modal"
    title: "Opportunities modal experience"
    status: "completed"
    notes: "Modal groups Edge vs independent suggestions, supports shuffle and close controls, and scrolls within the viewport."
  - id: "logging-tests"
    title: "Logging, error handling, and tests"
    status: "completed"
    notes: "Captured structured logs plus unit/integration coverage for generator, eligibility, and API flows."
deferred:
  - id: "real-edge-integration"
    notes: "Live King’s Edge API integration will be handled in Epoch 0009 once access and governance approvals land."
  - id: "copy-refinement"
    notes: "Deeper copy/prompt refinement for opportunity text deferred until after real Edge content is available."
