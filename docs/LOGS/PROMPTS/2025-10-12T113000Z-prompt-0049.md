id: prompt-0049
epoch: epoch-0013-ai-langgraph-openai
issued_at: "2025-10-12T11:30:00Z"
by: gpt-5-codex
intent: "Introduce a guarded LangGraph execution path and expose it via a feature-flagged endpoint/UI."
inputs:
  - "Create lib/ai/graph/guarded.ts with a LangGraph attempt and direct fallback."
  - "Add app/api/ai/graph/route.ts guarded by AI_GRAPH_ENABLE."
  - "Extend app/ui-demo/page.tsx with an AI Graph card showing output mode."
  - "Update state, epoch status, and prompt logs per protocol."
plan:
  - "Implement the guarded LangGraph helper with fallback semantics."
  - "Expose the helper through a new API route behind the AI_GRAPH_ENABLE flag."
  - "Enhance the UI demo with a new card that calls the feature-flagged endpoint."
  - "Record the execution in logs and refresh state files."
success_criteria:
  - "runGuarded returns LangGraph output when available and direct fallback otherwise."
  - "GET /api/ai/graph responds when AI_GRAPH_ENABLE is true and rejects otherwise."
  - "The UI demo includes an AI Graph card displaying response mode and content."
  - "State and roadmap documentation reflect prompt-0049 completion."
side_effects: []
links:
  pr: null
