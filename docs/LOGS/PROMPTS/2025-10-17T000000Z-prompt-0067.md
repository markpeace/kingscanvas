id: prompt-0067
epoch: null
issued_at: "2025-10-17T00:00:00Z"
by: gpt-5-codex
intent: "Apply post-review refinements to the Next.js PWA template while skipping icon changes."
inputs:
  - "Add an explicit id (and optional enhancements) to app/manifest.webmanifest."
  - "Ensure the offline shell is precached alongside the existing document fallback."
  - "Let the root layout remain statically optimizable unless authenticated routes require dynamic work."
  - "Gate the iOS install banner on the same production/service worker heuristics used for other platforms."
plan:
  - "Update the manifest with an id, display overrides, and a dashboard shortcut."
  - "Configure next-pwa to precache the offline route explicitly."
  - "Simplify app/layout.tsx so it no longer forces dynamic rendering or always fetches a server session."
  - "Tighten useInstallPrompt so iOS hints only appear when service workers are available in production contexts."
success_criteria:
  - "Manifest builds without errors and carries the new metadata without introducing PNG assets."
  - "Service worker precache includes /offline to guarantee first-navigation availability."
  - "Root layout renders statically by default while authenticated pages continue to protect their routes."
  - "Install banner no longer nags in development iOS sessions lacking service worker support."
side_effects:
  - "None."
links:
  pr: null
