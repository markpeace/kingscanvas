---
id: prompt-0098
epoch: 0003
issued_at: 2025-11-09T18:16:00Z
accepted_at: 2025-11-09T18:16:30Z
completed_at: 2025-11-09T18:21:29Z
status: completed
branch: feat/epoch-0003/pr-0006a-hotfix-6-static-session-nonprod
pr: 0006A-hotfix-6
validation_checks:
  - command: npm run lint
    outcome: pass
    notes: ""
  - command: CI=1 npm run build
    outcome: pass
    notes: ""
---

Force static session in non-production

## Notes
- Restored a Pages API handler that returns a static test session outside production while delegating to NextAuth in production.
- Updated shared auth helpers, API routes, and middleware to reuse the non-production session so previews skip authentication cleanly.

## Validation
- command: npm run lint
  outcome: pass
  notes: ""
- command: CI=1 npm run build
  outcome: pass
  notes: ""
